"use strict";(self["webpackChunkwap"]=self["webpackChunkwap"]||[]).push([[7836],{7836:function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-page"},[t("div",{staticClass:"headerTag"},[e._v("车辆保养")]),t("form",{staticClass:"h-form"},[t("item",{attrs:{must:"",name:"标题"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.info.FName,expression:"info.FName"}],domProps:{value:e.info.FName},on:{input:function(t){t.target.composing||e.$set(e.info,"FName",t.target.value)}}})]),t("item",{attrs:{must:"",name:"车辆名称"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.info.CarName,expression:"info.CarName"}],attrs:{readonly:""},domProps:{value:e.info.CarName},on:{click:e.choosePerson,input:function(t){t.target.composing||e.$set(e.info,"CarName",t.target.value)}}})]),t("item",{attrs:{must:"",name:"保养日期"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.info.FDate,expression:"info.FDate"}],attrs:{readonly:""},domProps:{value:e.info.FDate},on:{click:function(t){return e.chooseTime("FDate")},input:function(t){t.target.composing||e.$set(e.info,"FDate",t.target.value)}}})])],1),t("van-button",{staticStyle:{width:"calc(100% - 30px)",margin:"3px 15px"},attrs:{type:"primary",block:"",size:"normal",color:e.$config.theme,loading:e.loading},on:{click:e.submit}},[e._v("提交")]),t("van-popup",{attrs:{position:"bottom"},model:{value:e.timeShow,callback:function(t){e.timeShow=t},expression:"timeShow"}},[t("van-datetime-picker",{attrs:{type:"date",title:"选择日期"},on:{confirm:e.confirmTime}})],1)],1)},n=[],o={name:"CarsMaintenancAE",props:{},components:{},data(){return{apis:{edit:this._api.VMS_Car_MaintenanceEdit,create:this._api.VMS_Car_MaintenanceCreate,list:this._api.VMS_Car_MaintenanceManage,delete:this._api.VMS_Car_MaintenanceDelete,audit:this._api.VMS_Car_MaintenanceAudit,details:this._api.VMS_Car_MaintenanceDetails},loading:!1,curId:null,info:{PersonName:"",FName:"",EntryList:[]},rules:{FName:"请输入标题！",CarId:"请选择车辆！",FDate:"请选择维修日期！"},curTimeFieldName:"",timeShow:!1}},methods:{async submit(){await this.$u.checkForm(this.info,this.rules),this.loading=!0;let e=this.curId?this.apis.edit:this.apis.create;e(this.info).then((e=>{e&&(this.$u.msg(this.info.Id?"编辑成功！":"创建成功！"),setTimeout((()=>{this.$router.back()}),200)),this.loading=!1}))},chooseTime(e){this.curTimeFieldName=e,this.timeShow=!0},confirmTime(e){this.timeShow=!1,this.info[this.curTimeFieldName]=this.$time(e).format("YYYY-MM-DD")},choosePerson(){window.temFun=e=>{this.$set(this.info,"CarName",e.FCarNo),this.$set(this.info,"CarId",e.Id)},this.$router.push("/modular/oa/CarsChoose")}},mounted(){this.info={},this.curId=this.$route.query.Id}},s=o,r=i(3736),m=(0,r.Z)(s,a,n,!1,null,null,null),u=m.exports}}]);