"use strict";(self["webpackChunkwap"]=self["webpackChunkwap"]||[]).push([[9055],{9055:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-page"},[e("List",{ref:"list",attrs:{apis:t.apis,render:t.render,fieldToPage:t.fieldToPage,FormCode:"oa_car_maintenance",aePageUrl:"/modular/oa/CarsMaintenancAE"}},[e("el-button",{attrs:{slot:"contentRight",type:"primary"},on:{click:t.auditAny},slot:"contentRight"},[t._v("批量审核")]),e("el-button",{attrs:{slot:"contentRight",type:"primary"},on:{click:function(e){return t.$refs.FormAE.start(!1)}},slot:"contentRight"},[t._v("新增")])],1)],1)},n=[],r={name:"CarsMaintenanceList",props:{},components:{List:()=>Promise.all([a.e(3903),a.e(8208)]).then(a.bind(a,7808))},data(){return{apis:{edit:this._api.VMS_Car_MaintenanceEdit,create:this._api.VMS_Car_MaintenanceCreate,list:this._api.VMS_Car_MaintenanceManage,delete:this._api.VMS_Car_MaintenanceDelete,audit:this._api.VMS_Car_MaintenanceAudit,details:this._api.VMS_Car_MaintenanceDetails},fieldToPage:{FName:this.toDetails}}},methods:{render(t){return t("div",[t("el-table-column",{attrs:{prop:"FName",label:"标题","min-width":"100",align:"left","header-align":"center"}}),t("el-table-column",{attrs:{prop:"FCarNo",label:"车辆名称",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"FDate",label:"保养日期",width:"100",align:"center",formatter:e=>t("span",[e.FDate?this.$time(e.FDate).format("YYYY-MM-DD"):""])}}),t("el-table-column",{attrs:{prop:"CreateName",label:"创建人",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间",width:"160",align:"center"}})])},toDetails(t){this.$refs.FormDetails.start(t)},auditAny(){let t=this.$refs.list.chooseList;0!==t.length&&this.$u.confirm("请确认批量审核!").then((()=>{this.apis.audit(t.map((t=>({Id:t.Id,FStatus:3})))).then((t=>{t&&(this.$u.msg("审核成功!"),this.$refs.list.getList())}))})).catch((()=>{}))}},mounted(){}},s=r,l=a(3736),o=(0,l.Z)(s,i,n,!1,null,"55f50324",null),c=o.exports}}]);