"use strict";(self["webpackChunkwap"]=self["webpackChunkwap"]||[]).push([[32],{32:function(e,t,i){i.r(t),i.d(t,{default:function(){return m}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-page"},[t("div",{staticClass:"headerTag"},[e._v(e._s(1==e.$route.query.BillType?"出库单":"入库单"))]),t("form",{staticClass:"h-form"},[t("item",{attrs:{must:"",name:"仓库名称"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.info.WarehouseName,expression:"info.WarehouseName"}],attrs:{readonly:""},domProps:{value:e.info.WarehouseName},on:{click:e.choosePerson,input:function(t){t.target.composing||e.$set(e.info,"WarehouseName",t.target.value)}}})]),t("item",{attrs:{must:"",name:"数量"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.info.Qty,expression:"info.Qty"}],domProps:{value:e.info.Qty},on:{input:function(t){t.target.composing||e.$set(e.info,"Qty",t.target.value)}}})]),t("item",{attrs:{must:"",name:"类型"}},[t("van-radio-group",{attrs:{disabled:""},model:{value:e.info.BillType,callback:function(t){e.$set(e.info,"BillType",t)},expression:"info.BillType"}},[t("van-radio",{attrs:{name:1}},[e._v("出库单")]),t("van-radio",{attrs:{name:3}},[e._v("入库单")])],1)],1),t("item",{attrs:{must:"",name:"日期"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.info.FDate,expression:"info.FDate"}],attrs:{readonly:""},domProps:{value:e.info.FDate},on:{click:function(t){return e.chooseTime("FDate")},input:function(t){t.target.composing||e.$set(e.info,"FDate",t.target.value)}}})])],1),t("van-button",{staticStyle:{width:"calc(100% - 30px)",margin:"3px 15px"},attrs:{type:"primary",block:"",size:"normal",color:e.$config.theme,loading:e.loading},on:{click:e.submit}},[e._v("提交")]),t("van-popup",{attrs:{position:"bottom"},model:{value:e.timeShow,callback:function(t){e.timeShow=t},expression:"timeShow"}},[t("van-datetime-picker",{attrs:{type:"date",title:"选择日期"},on:{confirm:e.confirmTime}})],1)],1)},o=[],s={name:"StockBillAE",props:{},components:{},data(){return{apis:{edit:this._api.OSMS_StockBillEdit,create:this._api.OSMS_StockBillCreate,list:this._api.OSMS_StockBillManage,delete:this._api.OSMS_StockBillDelete,audit:this._api.OSMS_StockBillAudit,details:this._api.OSMS_StockBillDetails},loading:!1,curId:null,info:{PersonName:"",FName:"",EntryList:[]},rules:{WarehouseName:"请选择仓库！",Qty:"请输入数量！",FDate:"请选日期！"},curTimeFieldName:"",timeShow:!1}},methods:{async submit(){await this.$u.checkForm(this.info,this.rules),this.loading=!0;let e=this.curId?this.apis.edit:this.apis.create;e(this.info).then((e=>{e&&(this.$u.msg(this.info.Id?"编辑成功！":"创建成功！"),setTimeout((()=>{this.$router.back()}),200)),this.loading=!1}))},chooseTime(e){this.curTimeFieldName=e,this.timeShow=!0},confirmTime(e){this.timeShow=!1,this.info[this.curTimeFieldName]=this.$time(e).format("YYYY-MM-DD")},choosePerson(){window.temFun=e=>{this.$set(this.info,"WarehouseName",e.WarehouseName),this.$set(this.info,"WarehouseId",e.Id)},this.$router.push("/modular/oa/WarehouseChoose")}},mounted(){this.info={BillType:Number(this.$route.query.BillType)},this.curId=this.$route.query.Id}},n=s,r=i(3736),l=(0,r.Z)(n,a,o,!1,null,null,null),m=l.exports}}]);
//# sourceMappingURL=32.0ea6be4e.js.map