{"version":3,"file":"js/7506.17022413.js","mappings":"mJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACG,IAAI,OAAOC,MAAM,CAAC,QAAU,GAAG,KAAON,EAAIO,KAAK,OAASP,EAAID,OAAO,YAAcC,EAAIQ,YAAY,SAAW,cAAc,UAAY,0BAA0BC,GAAG,CAAC,QAAUT,EAAIU,aAAa,EACjT,EACIC,EAAkB,GCMtB,GACAC,KAAAA,eACAC,MAAAA,CAAAA,EACAC,WAAAA,CACAC,KAAAA,IAAAA,QAAAA,IAAAA,CAAAA,EAAAA,EAAAA,MAAAA,EAAAA,EAAAA,QAAAA,KAAAA,EAAAA,KAAAA,EAAAA,QAEAC,OACA,OACAT,KAAAA,CACAU,KAAAA,KAAAA,KAAAA,kBACAC,OAAAA,KAAAA,KAAAA,oBACAC,KAAAA,KAAAA,KAAAA,oBACAC,OAAAA,KAAAA,KAAAA,oBACAC,MAAAA,KAAAA,KAAAA,mBACAC,QAAAA,KAAAA,KAAAA,sBAEAd,YAAAA,CACAe,iBAAAA,KAAAA,WAEAC,UAAAA,cACAC,UAAAA,CACA,eACA,gBAEAC,OAAAA,CAAAA,EAEA,EACAC,QAAAA,CACA5B,OAAAA,GACA,iDAEA,kHACA,2FACA,iEACA,UACA6B,GAAAA,EAAAA,UAAAA,KAAAA,WAEA,iCACA,gEACA,UACAA,GAAAA,EAAAA,SAAAA,KAAAA,WAEA,iCACA,6DACA,UACA,8CAEA,iCACA,wFACA,kEACA,6BAKA,EACAC,UAAAA,GACA,+BACA,EACAC,WACA,iCACA,cACA,uCACA,0CACA,CACAC,GAAAA,EAAAA,GACAC,QAAAA,OAEA,UACA,IACA,qBACA,0BACA,GACA,IACA,eAEA,EACAC,aAAAA,EAAAA,GACA,sBACA,eACA,qLAEAC,EAAAA,UAAA,2HACA,kFACA,8CAEA,UAGAN,EAAAA,kBAEA,yCACA,kDAEAM,EAAAA,UAAAA,EAAAA,OAAAA,CAAAA,EAAAA,YAAAA,EAAAA,WAAAA,CAAA,8FAEA,uCACA,4CAEAA,EAAAA,UAAAA,EAAAA,OAAAA,CAAAA,EAAAA,MAAAA,EAAAA,WAAAA,CAAA,kFAIA,YAOA,GAPA,kCACA,mEACA,aACA,mFAUA,EACAC,YAAAA,GACA,cACA,yBACA,EACAC,OAAAA,GACA,8DACA,CACAC,WAAAA,EAAAA,GACAC,aAAAA,EAAAA,MACAC,UAAAA,KACAC,IAAAA,SAGA,EACAC,OAAAA,EAAAA,EAAAA,GACA,qCACAP,EAAAA,UAAAA,OAAAA,EAAAA,EAAAA,IACA,eACA,EACAxB,SAAAA,GACA,kBAAAqB,GAAAA,EAAAA,GAAAC,QAAAA,KAAA,UACA,IACAU,EAAAA,QAAAA,EACA,qBACA,GAEA,GAEAC,UAAAA,GCzJ4S,I,UCOxSC,GAAY,OACd,EACA7C,EACAY,GACA,EACA,KACA,WACA,MAIF,EAAeiC,EAAiB,O","sources":["webpack://wap/./src/pages/osms/moveBill/MoveBillList.vue","webpack://wap/src/pages/osms/moveBill/MoveBillList.vue","webpack://wap/./src/pages/osms/moveBill/MoveBillList.vue?08ba","webpack://wap/./src/pages/osms/moveBill/MoveBillList.vue?48fc"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-page\"},[_c('List',{ref:\"list\",attrs:{\"showBtn\":\"\",\"apis\":_vm.apis,\"render\":_vm.render,\"fieldToPage\":_vm.fieldToPage,\"FormCode\":\"oa_moveBill\",\"aePageUrl\":\"/modular/oa/MoveBillAE\"},on:{\"confirm\":_vm.confirmx}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"main-page\">\r\n        <List ref=\"list\" showBtn @confirm=\"confirmx\" :apis=\"apis\" :render=\"render\" :fieldToPage=\"fieldToPage\" FormCode=\"oa_moveBill\" aePageUrl=\"/modular/oa/MoveBillAE\">\r\n        </List>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"MoveBillList\",\r\n    props: {},\r\n    components: {\r\n        List: () => import(\"@/universalPage/list/List.vue\"),\r\n    },\r\n    data() {\r\n        return {\r\n            apis: {\r\n                edit: this._api.OSMS_MoveBillEdit,\r\n                create: this._api.OSMS_MoveBillCreate,\r\n                list: this._api.OSMS_MoveBillManage,\r\n                delete: this._api.OSMS_MoveBillDelete,\r\n                audit: this._api.OSMS_MoveBillAudit,\r\n                details: this._api.OSMS_MoveBillDetails\r\n            },\r\n            fieldToPage: {\r\n                OutWarehouseName: this.toDetails\r\n            },\r\n            FormsCode: \"oa_moveBill\",\r\n            fieldList: {\r\n                \"物料名称\": \"FName\",\r\n                \"物料规格\": \"Model\"\r\n            },\r\n            aeForm: {}\r\n        }\r\n    },\r\n    methods: {\r\n        render(h) {\r\n            return (\r\n                <div>\r\n                    <el-table-column prop=\"OutWarehouseName\" label=\"调出仓库\" width=\"\" align=\"left\" header-align=\"center\"></el-table-column>\r\n                    <el-table-column prop=\"InWarehouseName\" label=\"调入仓库\" width=\"\" align=\"center\"></el-table-column>\r\n                    <el-table-column prop=\"OutStatus\" label=\"调出状态\" width=\"100\" align=\"center\" formatter={(row) => {\r\n                        return (\r\n                            <span>{row.OutStatus == 3 ? \"审核\" : \"未审核\"}</span>\r\n                        )\r\n                    }}></el-table-column>\r\n                    <el-table-column prop=\"InStatus\" label=\"调入状态\" width=\"100\" align=\"center\" formatter={(row) => {\r\n                        return (\r\n                            <span>{row.InStatus == 3 ? \"审核\" : \"未审核\"}</span>\r\n                        )\r\n                    }}></el-table-column>\r\n                    <el-table-column prop=\"FDate\" label=\"调拨日期\" width=\"100\" align=\"center\" formatter={(row) => {\r\n                        return (\r\n                            <span>{this.$time(row.FDate).format(\"YYYY-MM-DD\")}</span>\r\n                        )\r\n                    }}></el-table-column>\r\n                    <el-table-column prop=\"CreateName\" label=\"创建人\" width=\"100\" align=\"center\"></el-table-column>\r\n                    <el-table-column prop=\"CreateTime\" label=\"创建时间\" width=\"160\" align=\"center\" formatter={(row) => {\r\n                        return (<span>{row.CreateTime}</span>)\r\n                    }} >\r\n                    </el-table-column>\r\n                </div >\r\n            )\r\n        },\r\n        toDetails(row) {\r\n            this.$refs.FormDetails.start(row)\r\n        },\r\n        auditAny() {\r\n            let list = this.$refs.list.chooseList\r\n            if (list.length !== 0) {\r\n                this.$u.confirm(\"请确认批量审核!\").then(() => {\r\n                    this._api.OSMS_MoveBillInAudit(list.map(it => {\r\n                        return {\r\n                            Id: it.Id,\r\n                            FStatus: 3\r\n                        }\r\n                    })).then(res => {\r\n                        if (res) {\r\n                            this.$u.msg(\"审核成功!\")\r\n                            this.$refs.list.getList()\r\n                        }\r\n                    })\r\n                }).catch(() => { })\r\n            }\r\n        },\r\n        customRender(h, info) {\r\n            return (\r\n                <div style=\"width:100%\">\r\n                    {!info.isDetails ? <el-button type=\"primary\" plain style=\"margin:0 0 10px calc(100% - 80px)\" onClick={e => this.appendShunt(info)} >新 增</el-button> : <span></span>}\r\n\r\n                    <el-table data={info.EntryList} highlight-current-row stripe border empty-text=\"\" height=\"400px\" >\r\n                        <el-table-column fixed type=\"index\" label=\"序号\" width=\"50\" align=\"center\" />\r\n                        <el-table-column label=\"物料\" prop=\"Fname\" align=\"center\" formatter={(row) => {\r\n                            return (\r\n                                /*\r\n                                    <el-input readonly v-model={row.MaterialName} nativeOnClick={e => this.appendShunt(info)}></el-input>\r\n                                */\r\n                                <span>{row.MaterialName}</span>\r\n                            )\r\n                        }}></el-table-column>\r\n                      /*  <el-table-column label=\"批次\" prop=\"LotNumber\" align=\"center\" formatter={(row) => {\r\n                            return (\r\n                                info.isDetails ? <span>{row.LotNumber}</span> : <el-input v-model={row.LotNumber} type=\"number\"></el-input>\r\n                            )\r\n                        }}></el-table-column>*/\r\n                        <el-table-column label=\"数量\" prop=\"Qty\" align=\"center\" formatter={(row) => {\r\n                            return (\r\n                                info.isDetails ? <span>{row.Qty}</span> : <el-input v-model={row.Qty} type=\"number\"></el-input>\r\n                            )\r\n                        }}></el-table-column>\r\n                        {\r\n                            !info.isDetails ?\r\n                                <el-table-column label=\"操作\" width=\"120\" align=\"center\" fixed=\"right\" formatter={(row, x, w, index) => {\r\n                                    return (\r\n                                        <i class=\"iconfont icon-remove\" title=\"删除\" onClick={e => this.remove(info, row, index)} />\r\n                                    )\r\n                                }}>\r\n                                </el-table-column> :\r\n                                \"\"\r\n                        }\r\n\r\n                    </el-table>\r\n                </div >\r\n            )\r\n        },\r\n        appendShunt(info) {\r\n            this.aeForm = info\r\n            this.$refs.choose.start()\r\n        },\r\n        choose(list) {\r\n            this.aeForm.EntryList = this.aeForm.EntryList.concat(list.map(it => {\r\n                return {\r\n                    MaterialId: it.Id,\r\n                    MaterialName: it.FName,\r\n                    LotNumber: null,\r\n                    Qty: null\r\n                }\r\n            }))\r\n        },\r\n        remove(info, row, index) {\r\n            this.$u.confirm(\"请确认删除？\").then(() => {\r\n                info.EntryList.splice(index, 1)\r\n            }).catch(() => { })\r\n        },\r\n        confirmx(item) {\r\n            this.apis.audit([{ Id: item.Id, FStatus: 3 }]).then(res => {\r\n                if (res) {\r\n                    item.FStatus = 3\r\n                    this.$u.msg(\"确认成功！\")\r\n                }\r\n            })\r\n        }\r\n    },\r\n    mounted() { }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MoveBillList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MoveBillList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MoveBillList.vue?vue&type=template&id=ab780958&scoped=true&\"\nimport script from \"./MoveBillList.vue?vue&type=script&lang=js&\"\nexport * from \"./MoveBillList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ab780958\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","apis","fieldToPage","on","confirmx","staticRenderFns","name","props","components","List","data","edit","create","list","delete","audit","details","OutWarehouseName","FormsCode","fieldList","aeForm","methods","row","toDetails","auditAny","Id","FStatus","customRender","info","appendShunt","choose","MaterialId","MaterialName","LotNumber","Qty","remove","item","mounted","component"],"sourceRoot":""}