"use strict";(self["webpackChunkwap"]=self["webpackChunkwap"]||[]).push([[1962],{1962:function(e,t,a){a.r(t),a.d(t,{default:function(){return o}});var c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-page"},[t("List",{ref:"list",attrs:{apis:e.apis,render:e.render,fieldToPage:e.fieldToPage,FormCode:"oa_car_check",aePageUrl:"/modular/oa/CarsCheckAE"}},[t("van-button",{attrs:{slot:"contentRight",type:"primary"},on:{click:e.auditAny},slot:"contentRight"},[e._v("批量审核")]),t("van-button",{attrs:{slot:"contentRight",type:"primary"},on:{click:e.append},slot:"contentRight"},[e._v("新增")])],1)],1)},l=[],i={name:"CarsCheckList",props:{},components:{List:()=>Promise.all([a.e(3903),a.e(8208)]).then(a.bind(a,7808))},data(){return{apis:{edit:this._api.VMS_Car_CheckEdit,create:this._api.VMS_Car_CheckCreate,list:this._api.VMS_Car_CheckManage,delete:this._api.VMS_Car_CheckDelete,audit:this._api.VMS_Car_CheckAudit,details:this._api.VMS_Car_CheckDetails,manage:this._api.VMS_Car_CheckManage},fieldToPage:{FName:this.toDetails},tableData:[]}},methods:{render(e){return e("div",[e("el-table-column",{attrs:{prop:"FName",label:"标题","min-width":"100",align:"left","header-align":"center"}}),e("el-table-column",{attrs:{prop:"FCarNo",label:"车辆名称",width:"100",align:"center"}}),e("el-table-column",{attrs:{prop:"CreateName",label:"创建人",width:"100",align:"center"}}),e("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间",width:"160",align:"center"}})])},customRender(e){return e("el-table",{attrs:{data:this.tableData,"highlight-current-row":!0,stripe:!0,border:!0,height:"400px","empty-text":" "}},[e("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e("el-table-column",{attrs:{fixed:!0,type:"index",label:"序号",width:"50",align:"center"}}),e("el-table-column",{attrs:{prop:"FCarNo",label:"车牌号",width:"",align:"center",width:"100"}}),e("el-table-column",{attrs:{prop:"FAppearance",label:"车辆外观",width:"",align:"center",formatter:t=>Boolean(Number(t.FAppearance))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FAppearance")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FAppearance")}})}}),e("el-table-column",{attrs:{prop:"FCockpit",label:"驾驶舱",width:"",align:"center",formatter:t=>Boolean(Number(t.FCockpit))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FCockpit")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FCockpit")}})}}),e("el-table-column",{attrs:{prop:"FEngineHood",label:"引擎盖内",width:"",align:"center",formatter:t=>Boolean(Number(t.FEngineHood))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FEngineHood")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FEngineHood")}})}}),e("el-table-column",{attrs:{prop:"FMeter",label:"三检表",width:"",align:"center",formatter:t=>Boolean(Number(t.FMeter))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FMeter")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FMeter")}})}}),e("el-table-column",{attrs:{prop:"FExtinguisher",label:"灭火器检查表",width:"",align:"center",formatter:t=>Boolean(Number(t.FExtinguisher))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FExtinguisher")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FExtinguisher")}})}}),e("el-table-column",{attrs:{prop:"FVehicleSystem",label:"车辆系统",width:"",align:"center",formatter:t=>Boolean(Number(t.FVehicleSystem))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FVehicleSystem")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FVehicleSystem")}})}}),e("el-table-column",{attrs:{prop:"FTyre",label:"车辆轮胎",width:"",align:"center",formatter:t=>Boolean(Number(t.FTyre))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FTyre")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FTyre")}})}}),e("el-table-column",{attrs:{prop:"FLicenseTag",label:"车辆牌照及附件",width:"",align:"center",formatter:t=>Boolean(Number(t.FLicenseTag))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FLicenseTag")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FLicenseTag")}})}}),e("el-table-column",{attrs:{prop:"FRunningStatus",label:"车辆运行",width:"",align:"center",formatter:t=>Boolean(Number(t.FRunningStatus))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FRunningStatus")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FRunningStatus")}})}}),e("el-table-column",{attrs:{prop:"FCamera1",label:"驾驶舱摄像头1",width:"",align:"center",formatter:t=>Boolean(Number(t.FCamera1))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FCamera1")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FCamera1")}})}}),e("el-table-column",{attrs:{prop:"FCamera2",label:"驾驶舱摄像头2",width:"",align:"center",formatter:t=>Boolean(Number(t.FCamera2))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FCamera2")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FCamera2")}})}}),e("el-table-column",{attrs:{prop:"FCamera3",label:"车厢内摄像头",width:"",align:"center",formatter:t=>Boolean(Number(t.FCamera3))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FCamera3")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FCamera3")}})}}),e("el-table-column",{attrs:{prop:"FOthers",label:"其他情况",width:"",align:"center",formatter:t=>Boolean(Number(t.FOthers))?e("i",{class:"el-icon-circle-check hand",style:"color:#67c23a;font-size:20px",on:{click:e=>this.changeStatus(t,"FOthers")}}):e("i",{class:"el-icon-circle-check hand",style:"font-size:20px",on:{click:e=>this.changeStatus(t,"FOthers")}})}})])},toDetails(e){this.$refs.FormDetails.start(e)},auditAny(){let e=this.$refs.list.chooseList;0!==e.length&&this.$u.confirm("请确认批量审核!").then((()=>{this.apis.audit(e.map((e=>({Id:e.Id,FStatus:3})))).then((e=>{e&&(this.$u.msg("审核成功!"),this.$refs.list.getList())}))})).catch((()=>{}))},changeStatus(e,t){e[t]=e[t]?0:1},append(){this.$refs.FormAE.start(!1),this.VMS_CarIndex()},VMS_CarIndex(){this._api.VMS_CarIndex().then((e=>{e&&(this.tableData=e.data.map((e=>({FCarNo:e.FCarNo,CarId:e.Id,FAppearance:1,FCockpit:1,FEngineHood:1,FMeter:1,FExtinguisher:1,FVehicleSystem:1,FTyre:1,FLicenseTag:1,FRunningStatus:1,FCamera1:1,FCamera2:1,FCamera3:1,FOthers:1}))))}))},submitBefore(e){e.EntryList=this.tableData},loadAfterFun(e){this.tableData=e.EntryList}},mounted(){}},n=i,s=a(3736),r=(0,s.Z)(n,c,l,!1,null,null,null),o=r.exports}}]);
//# sourceMappingURL=1962.5072c5d7.js.map