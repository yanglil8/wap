{"version":3,"file":"js/3559.30c8a041.js","mappings":"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KAAAA,KAAAA,wBACAC,QAAAA,KAAAA,KAAAA,2BAEAjB,SAAAA,EACAkB,MAAAA,KACAxD,KAAAA,CACAW,WAAAA,GACA8C,MAAAA,GACA9B,UAAAA,GACAT,SAAAA,IAEAwC,MAAAA,CACAC,QAAAA,WACAjD,MAAAA,SACAkD,SAAAA,UACA/C,MAAAA,YAEAgD,iBAAAA,GACArB,UAAAA,EACAE,YAAAA,EACAoB,UAAAA,GACAnB,QAAAA,GAEA,EACAoB,QAAAA,CACAC,YAEAC,QAAAA,IAAAA,GACA,EACA,qBACA,wCACA,gBACA,iDACAC,EAAAA,KAAAA,MAAAA,MAAAA,IACA,IACA,0CACAC,YAAAA,KACA,sBACA,MAEA,kBAEA,EACArD,WAAAA,GACA,wBACA,gBACA,EACA2B,YAAAA,GACA,iBACA,mEACA,EACA7B,eACAwD,OAAAA,OAAAA,IACA,0CACA,sCAEA,6CACA,EACA9D,eACA,kBACA,EACAU,iBACAoD,OAAAA,OAAAA,IACA,gDACA,wCAEA,+CACA,EACAxB,cAAAA,EAAAA,GACA,mBACA,sBACA,sCACA,EACAyB,sBACA,0CACA,IACA,sBACA,0CACA,GAEA,EACA5C,iBACA2C,OAAAA,OAAAA,IACA,0BACAhC,MAAAA,KACAC,KAAAA,KACAF,aAAAA,EAAAA,MACAmC,WAAAA,EAAAA,IACA,EAEA,+CACA,GAEAC,UACA,WACA5C,UAAAA,IAEA,gCACA,0BACA,GCvOuS,I,UCQnS6C,GAAY,OACd,EACApF,EACAyD,GACA,EACA,KACA,KACA,MAIF,EAAe2B,EAAiB,O","sources":["webpack://wap/./src/pages/work/event/EventAE.vue","webpack://wap/src/pages/work/event/EventAE.vue","webpack://wap/./src/pages/work/event/EventAE.vue?2dd6","webpack://wap/./src/pages/work/event/EventAE.vue?41b0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-page\"},[_c('div',{staticClass:\"headerTag\"},[_vm._v(\"事件上报\")]),_c('form',{staticClass:\"h-form\"},[_c('item',{attrs:{\"must\":\"\",\"name\":\"事件标题\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.ClassName),expression:\"info.ClassName\"}],attrs:{\"readonly\":\"\"},domProps:{\"value\":(_vm.info.ClassName)},on:{\"click\":function($event){return _vm.choosePicker()},\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.info, \"ClassName\", $event.target.value)}}})]),_c('item',{attrs:{\"must\":\"\",\"name\":\"地点\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.FSite),expression:\"info.FSite\"}],domProps:{\"value\":(_vm.info.FSite)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.info, \"FSite\", $event.target.value)}}})]),_c('item',{attrs:{\"must\":\"\",\"name\":\"上报人\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.PersonName),expression:\"info.PersonName\"}],attrs:{\"readonly\":\"\"},domProps:{\"value\":(_vm.info.PersonName)},on:{\"click\":function($event){return _vm.choosePerson()},\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.info, \"PersonName\", $event.target.value)}}})]),_c('item',{attrs:{\"must\":\"\",\"name\":\"上报日期\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.FTime),expression:\"info.FTime\"}],attrs:{\"readonly\":\"\"},domProps:{\"value\":(_vm.info.FTime)},on:{\"click\":function($event){return _vm.chooseTime('FTime')},\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.info, \"FTime\", $event.target.value)}}})]),_c('item',{attrs:{\"must\":\"\",\"name\":\"零售户\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.CustomerName),expression:\"info.CustomerName\"}],attrs:{\"readonly\":\"\"},domProps:{\"value\":(_vm.info.CustomerName)},on:{\"click\":function($event){return _vm.chooseCustomer()},\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.info, \"CustomerName\", $event.target.value)}}})]),_c('item',{attrs:{\"must\":\"\",\"name\":\"零售户单据体\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.CustomerName),expression:\"info.CustomerName\"}],domProps:{\"value\":(_vm.info.CustomerName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.info, \"CustomerName\", $event.target.value)}}})]),_c('item',{attrs:{\"must\":\"\",\"name\":\"图片上传\"}},[_c('van-uploader',{attrs:{\"multiple\":\"\",\"max-count\":2},model:{value:(_vm.info.fileList),callback:function ($$v) {_vm.$set(_vm.info, \"fileList\", $$v)},expression:\"info.fileList\"}})],1),_c('item',{attrs:{\"name\":\"说明\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.info.FContent),expression:\"info.FContent\"}],domProps:{\"value\":(_vm.info.FContent)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.info, \"FContent\", $event.target.value)}}})]),_c('div',{staticStyle:{\"display\":\"flex\",\"white-wrap\":\"nowrap\",\"align-items\":\"center\",\"justify-content\":\"space-between\"}},[_c('div',{staticClass:\"headerTag\"},[_vm._v(\"商品明细\")]),_c('van-button',{staticStyle:{\"margin-right\":\"15px\"},attrs:{\"size\":\"small\",\"color\":_vm.$config.theme},on:{\"click\":_vm.chooseMaterial}},[_vm._v(\"新增\")])],1),_vm._l((_vm.info.EventList),function(item,index){return _c('div',{key:index,staticClass:\"car-item shadow\"},[_c('div',{staticClass:\"car-item-line\",style:({ color: _vm.$config.theme, fontWeight: 800 })},[_vm._v(\" 商品：\"+_vm._s(item.MaterialName)+\" \")]),_c('div',{staticClass:\"car-item-line\",staticStyle:{\"display\":\"flex\",\"white-wrap\":\"nowrap\",\"align-items\":\"center\"}},[_vm._v(\" 代码： \")]),_c('div',{staticClass:\"car-item-line\",staticStyle:{\"display\":\"flex\",\"white-wrap\":\"nowrap\",\"align-items\":\"center\"}},[_vm._v(\" 类型： \"),_c('van-radio-group',{model:{value:(item.FType),callback:function ($$v) {_vm.$set(item, \"FType\", $$v)},expression:\"item.FType\"}},[_c('van-radio',{attrs:{\"name\":1}},[_vm._v(\"寄\")]),_c('van-radio',{attrs:{\"name\":3}},[_vm._v(\"存\")])],1)],1),_c('div',{staticClass:\"car-item-line\",staticStyle:{\"display\":\"flex\",\"white-wrap\":\"nowrap\",\"align-items\":\"center\"}},[_vm._v(\" 数量： \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.FQty),expression:\"item.FQty\"}],staticStyle:{\"width\":\"calc(100% - 100px)\",\"height\":\"26px\",\"text-align\":\"left\",\"background\":\"#f2f2f2\"},attrs:{\"type\":\"number\"},domProps:{\"value\":(item.FQty)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(item, \"FQty\", $event.target.value)}}})])])})],2),_c('van-button',{staticStyle:{\"width\":\"calc(100% - 30px)\",\"margin\":\"3px 15px\"},attrs:{\"type\":\"primary\",\"block\":\"\",\"size\":\"normal\",\"color\":_vm.$config.theme,\"loading\":_vm.loading},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")]),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.timeShow),callback:function ($$v) {_vm.timeShow=$$v},expression:\"timeShow\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"title\":\"选择日期\"},on:{\"confirm\":_vm.confirmTime}})],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.pickerShow),callback:function ($$v) {_vm.pickerShow=$$v},expression:\"pickerShow\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.columns},on:{\"confirm\":_vm.confirmPicker,\"cancel\":function($event){_vm.pickerShow = false}}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main-page\">\r\n    <div class=\"headerTag\">事件上报</div>\r\n    <form class=\"h-form\">\r\n    <item must name=\"事件标题\">\r\n        <input v-model=\"info.ClassName\" readonly @click=\"choosePicker()\" />\r\n      </item>\r\n      <item must name=\"地点\">\r\n        <input v-model=\"info.FSite\" />\r\n      </item>\r\n      \r\n      <item must name=\"上报人\">\r\n        <input v-model=\"info.PersonName\" readonly @click=\"choosePerson()\" />\r\n      </item>\r\n      <item must name=\"上报日期\">\r\n        <input v-model=\"info.FTime\" readonly @click=\"chooseTime('FTime')\" />\r\n      </item>\r\n      <item must name=\"零售户\">\r\n        <input v-model=\"info.CustomerName\" readonly @click=\"chooseCustomer()\" />\r\n      </item>\r\n        <item must name=\"零售户单据体\">\r\n        <input v-model=\"info.CustomerName\"/>\r\n      </item>\r\n       <item must name=\"图片上传\">\r\n        <van-uploader v-model=\"info.fileList\" multiple :max-count=\"2\" />\r\n      </item>\r\n      <item name=\"说明\">\r\n        <textarea v-model=\"info.FContent\" />\r\n      </item>\r\n      <div\r\n        style=\"\r\n          display: flex;\r\n          white-wrap: nowrap;\r\n          align-items: center;\r\n          justify-content: space-between;\r\n        \"\r\n      >\r\n        <div class=\"headerTag\">商品明细</div>\r\n        <van-button\r\n          size=\"small\"\r\n          style=\"margin-right: 15px\"\r\n          :color=\"$config.theme\"\r\n          @click=\"chooseMaterial\"\r\n          >新增</van-button\r\n        >\r\n      </div>\r\n      <div\r\n        class=\"car-item shadow\"\r\n        v-for=\"(item, index) in info.EventList\"\r\n        :key=\"index\"\r\n      >\r\n        <div\r\n          class=\"car-item-line\"\r\n          :style=\"{ color: $config.theme, fontWeight: 800 }\"\r\n        >\r\n          商品：{{ item.MaterialName }}\r\n        </div>\r\n\r\n        <div\r\n          class=\"car-item-line\"\r\n          style=\"display: flex; white-wrap: nowrap; align-items: center\"\r\n        >\r\n          代码：\r\n        </div>\r\n        <div\r\n          class=\"car-item-line\"\r\n          style=\"display: flex; white-wrap: nowrap; align-items: center\"\r\n        >\r\n          类型：\r\n          <van-radio-group v-model=\"item.FType\">\r\n            <van-radio :name=\"1\">寄</van-radio>\r\n            <van-radio :name=\"3\">存</van-radio>\r\n          </van-radio-group>\r\n        </div>\r\n        <div\r\n          class=\"car-item-line\"\r\n          style=\"display: flex; white-wrap: nowrap; align-items: center\"\r\n        >\r\n          数量：\r\n          <input\r\n            style=\"\r\n              width: calc(100% - 100px);\r\n              height: 26px;\r\n              text-align: left;\r\n              background: #f2f2f2;\r\n            \"\r\n            type=\"number\"\r\n            v-model=\"item.FQty\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <van-button\r\n      type=\"primary\"\r\n      block\r\n      size=\"normal\"\r\n      :color=\"$config.theme\"\r\n      style=\"width: calc(100% - 30px); margin: 3px 15px\"\r\n      @click=\"submit\"\r\n      :loading=\"loading\"\r\n      >提交</van-button\r\n    >\r\n    <van-popup v-model=\"timeShow\" position=\"bottom\">\r\n      <van-datetime-picker\r\n        type=\"date\"\r\n        title=\"选择日期\"\r\n        @confirm=\"confirmTime\"\r\n      />\r\n    </van-popup>\r\n    <van-popup v-model=\"pickerShow\" position=\"bottom\">\r\n      <van-picker\r\n        show-toolbar\r\n        :columns=\"columns\"\r\n        @confirm=\"confirmPicker\"\r\n        @cancel=\"pickerShow = false\"\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"EventAE\",\r\n  props: {},\r\n  components: {},\r\n  data() {\r\n    return {\r\n      apis: {\r\n        edit: this._api.OA_Event_ReportingEdit,\r\n        create: this._api.OA_Event_ReportingCreate,\r\n        list: this._api.OA_Event_ReportingManage,\r\n        delete: this._api.OA_Event_ReportingDelete,\r\n        audit: this._api.OA_Event_ReportingAudit,\r\n        details: this._api.OA_Event_ReportingDetails,\r\n      }, \r\n      loading: false,\r\n      curId: null,\r\n      info: {\r\n        PersonName: \"\",\r\n        FName: \"\",\r\n        EventList: [],\r\n        fileList: [],\r\n      },\r\n      rules: {\r\n        ClassId: \"请输入事件标题！\",\r\n        FSite: \"请输入地点！\",\r\n        PersonId: \"请选择上报人！\",\r\n        FTime: \"请选择上报日期！\",\r\n      },\r\n      curTimeFieldName: \"\",\r\n      timeShow: false,\r\n      pickerShow: false,\r\n      classList: [],\r\n      columns: [],\r\n    };\r\n  },\r\n  methods: {\r\n    afterRead() {\r\n      // 此时可以自行将文件上传至服务器\r\n      console.log(11);\r\n    },\r\n    async submit() {\r\n      await this.$u.checkForm(this.info, this.rules);\r\n      this.loading = true;\r\n      let apiFun = this.curId ? this.apis.edit : this.apis.create;\r\n      apiFun(this.info).then((res) => {\r\n        if (res) {\r\n          this.$u.msg(this.info.Id ? \"编辑成功！\" : \"创建成功！\");\r\n          setTimeout(() => {\r\n            this.$router.back();\r\n          }, 200);\r\n        }\r\n        this.loading = false;\r\n      });\r\n    },\r\n    chooseTime(fieldName) {\r\n      this.curTimeFieldName = fieldName;\r\n      this.timeShow = true;\r\n    },\r\n    confirmTime(time) {\r\n      this.timeShow = false;\r\n      this.info[this.curTimeFieldName] = this.$time(time).format(\"YYYY-MM-DD\");\r\n    },\r\n    choosePerson() {\r\n      window.temFun = (person) => {\r\n        this.$set(this.info, \"PersonName\", person.Fname);\r\n        this.$set(this.info, \"PersonId\", person.Id);\r\n      };\r\n      this.$router.push(`/modular/oa/ChoosePerson`);\r\n    },\r\n    choosePicker() {\r\n      this.pickerShow = true;\r\n    },\r\n    chooseCustomer() {\r\n      window.temFun = (item) => {\r\n        this.$set(this.info, \"CustomerName\", item.FCustName);\r\n        this.$set(this.info, \"CustomerId\", item.Id);\r\n      };\r\n      this.$router.push(\"/modular/oa/CustomerChoose\");\r\n    },\r\n    confirmPicker(value, index) {\r\n      this.pickerShow = false;\r\n      this.info.ClassName = value;\r\n      this.info.ClassId = this.classList[index].Id;\r\n    },\r\n    OA_Event_ClassIndex() {\r\n      this._api.OA_Event_ClassIndex().then((res) => {\r\n        if (res) {\r\n          this.classList = res.data;\r\n          this.columns = res.data.map((it) => it.ClassName);\r\n        }\r\n      });\r\n    },\r\n    chooseMaterial() {\r\n      window.temFun = (material) => {\r\n        this.info.EventList.push({\r\n          FType: null,\r\n          FQty: null,\r\n          MaterialName: material.FName,\r\n          MaterialId: material.Id,\r\n        });\r\n      };\r\n      this.$router.push(`/modular/oa/MaterialChoose`);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.info = {\r\n      EventList: [],\r\n    };\r\n    this.curId = this.$route.query.Id;\r\n    this.OA_Event_ClassIndex();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.car-item {\r\n  width: calc(100% - 30px);\r\n  margin-left: 15px;\r\n  margin-top: 15px;\r\n  padding: 0 15px;\r\n  font-size: 14px;\r\n\r\n  .car-item-line {\r\n    line-height: 30px;\r\n    margin-right: 15px;\r\n  }\r\n}\r\n.van-radio-group {\r\n  display: flex;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventAE.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EventAE.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventAE.vue?vue&type=template&id=21de4183&\"\nimport script from \"./EventAE.vue?vue&type=script&lang=js&\"\nexport * from \"./EventAE.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventAE.vue?vue&type=style&index=0&id=21de4183&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","directives","name","rawName","value","info","ClassName","expression","domProps","on","$event","choosePicker","target","composing","$set","FSite","PersonName","choosePerson","FTime","chooseTime","CustomerName","chooseCustomer","model","fileList","callback","$$v","FContent","staticStyle","$config","theme","chooseMaterial","_l","EventList","item","index","key","style","color","fontWeight","_s","MaterialName","FType","FQty","loading","submit","timeShow","confirmTime","pickerShow","columns","confirmPicker","staticRenderFns","props","components","data","apis","edit","create","list","delete","audit","details","curId","FName","rules","ClassId","PersonId","curTimeFieldName","classList","methods","afterRead","console","apiFun","setTimeout","window","OA_Event_ClassIndex","MaterialId","mounted","component"],"sourceRoot":""}