(self["webpackChunkwap"]=self["webpackChunkwap"]||[]).push([[3903],{3903:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return l}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main-page"},[t("svg",{staticStyle:{"enable-background":"new 0 0 50 50"},attrs:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",width:"24px",height:"30px",viewBox:"0 0 24 30","xml:space":"preserve"}},[t("rect",{attrs:{x:"0",y:"13",width:"4",height:"5",fill:e.$config.theme}},[t("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"10",y:"13",width:"4",height:"5",fill:e.$config.theme}},[t("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}})]),t("rect",{attrs:{x:"20",y:"13",width:"4",height:"5",fill:e.$config.theme}},[t("animate",{attrs:{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}}),t("animate",{attrs:{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}})])])])},i=[],r=(o(9020),o(3423)),s={name:"Loading",data(){return{uJson:{},tcode:{}}},mixins:[r.Z],methods:{getToken(){this._api.getToken({tcode:this.uJson.tcode,code:this.uJson.code,ticket:this.uJson.ticket,client_id:"client",client_secret:"secret",grant_type:"password",username:"udynamic"+1e5*Math.random().toFixed(5),password:Math.random()}).then((e=>{if(e){if(1==e.errcode)return void setTimeout((()=>{this.$router.push("/Login")}),3e3);this.$u.setItem("token",e.access_token),this.loginInit(e.access_token)}}))},sso(){if("micromessenger"==navigator.userAgent.toLowerCase()){let e=localStorage.getItem("up");if(e){let t=JSON.parse(e);return void this._api.getToken(t).then((e=>{if(e){if(1==e.errcode)return void setTimeout((()=>{this.$router.push("/Login")}),3e3);this.$u.setItem("token",e.access_token),this.loginInit(e.access_token)}}))}}let e=window.location.href;if(this.uJson=this.$u.urlToJson(e),"qsms"==this.uJson.sign)return this.uJson.toUrl=this.uJson.toUrl.replace(/%2F/g,"/"),void qing.call("getPersonInfo",{success:e=>{this._api.getToken({tcode:"5653C942AA236456EEE3386EC7C9175B",ticket:null,openId:e.data.openId,client_id:"client",client_secret:"secret",grant_type:"password",username:"udynamic"+1e5*Math.random().toFixed(5),password:Math.random()}).then((t=>{if(t){if(1==t.errcode)return this.$u.msg("登录失败！","/static/img/warning.png"),void setTimeout((()=>{this.$router.push("/Login")}),3e3);this.$u.setItem("token",t.access_token),this.uJson.toUrl=this.uJson.toUrl.replace(/%2F/g,"/"),this.$router.push(`${this.uJson.toUrl}?QuestionId=${this.uJson.QuestionId}&OptionId=${this.uJson.OptionId}&name=${e.data.name}&QuestionnaireId=${this.uJson.QuestionnaireId}`)}}))}});this.uJson.tcode||(this.uJson.state?this.uJson.tcode=this.uJson.state:this.uJson.tcode=this.$config.tcode),this.getToken()},qywx(){},toLogin(){this.$router.push("/Login")},toHome(){this.$router.push("/Home")}},mounted(){this.$u.clear(),this.sso()}},c=s,a=o(3736),u=(0,a.Z)(c,n,i,!1,null,"486bebce",null),l=u.exports},9020:function(){(function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=28)})([function(e,t){"use strict";t.c=function(e){var t=e.jsApiList,n={};(t||[]).forEach((function(e){i[e]&&(n[e]=!0)}));var r=e.success;e.success=function(e,t){if(e.success)for(var o in n)e.data[o]=!0;r&&r(e,t)},o._bridge.checkJsApi(e)},t.a=function(e,t,o,s){t&&(n[e]=t,o&&(i[e]=!0),s&&(r[e]=!0))},t.b=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=n[e];if(i){var s=i(t);s&&(e=s.name,t=s.params)}r[e]||o._bridge.call(e,t)};var o=window.qing,n={},i={},r={}},function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return i}));var n=function(e){console&&console.log("[Qing] "+e)},i=function(e){console&&console.warn("[Qing] "+e)}},function(e,t,o){"use strict";var n=o(5),i=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r="鉴权失败",s="获取签名失败";t.a=function(e,t){function c(t,o,n){return t&&t.appId&&t.timeStamp&&t.nonceStr&&t.signature?void e.call("runtime.auth",i({},t,{success:function(e){"string"==typeof e.success&&(e.success="true"===e.success),e.success?o&&o(e):n&&n(r)},error:function(){n&&n(r)}})):n("签名信息错误")}if("function"==typeof t.success)if(t.appId&&t.timeStamp&&t.nonceStr&&t.signature)c(t,t.success,t.error);else if(t.signUrl){var a=encodeURIComponent(location.href.split("#")[0]);/^file:/.test(location.href)&&(a=encodeURIComponent(location.href.replace(/file:\/\//,""))),o.i(n.a)({url:t.signUrl.replace(/\?|$/,"?url="+a+"&").replace(/\&$/,""),method:t.signMethod||"post",success:function(e){if(e&&e.success&&e.data){var o=e.data;"function"==typeof t.signFormat&&(o=t.signFormat(o)),c(o,t.success,t.error)}else t.error&&t.error(s)},error:function(){t.error&&t.error(s)}})}else t.error&&t.error("参数错误")}},function(e,t){"use strict";function o(){function e(e,t,n){t.split(",").forEach((function(t){var i=o.apis[t]={version:e};("both"===n||"ios"===n)&&(i.ios=1),("both"===n||"android"===n)&&(i.android=1)}))}if(o.apis)return o.apis;var t={both:{"0.9.0":"hideWebViewTitle,setWebViewTitle,gotoApp,getPersonInfo,getNetworkType,share,switchCompany,personInfo,chat,selectPerson,fetchAvatar,joinBandCallback,socialShare,localFunction,selectFile,showFile,selectOrg,selectPic,scanQRCode,selectPersons","0.9.3":"gotoMyFile","0.9.4":"getPersonDepartment,getAdminOpenId","0.9.5":"setWebViewTitleBar,closeWebView","0.9.6":"createPop,closePop,getLocation,selectLocation","0.9.11":"defback,setDepartmentHeader","0.9.12":"clipBoard,freeCall,validate,orgManage","0.9.13":"enterpriseAuth","0.9.14":"selectOrgs","0.9.16":"previewImage","0.9.17":"iAppRevision,selectCloudhubContact,selectMobileContact","0.9.18":"gotoLightApp","0.9.19":"recordScreenshotsInfo,companyRename","0.9.20":"selectPhoto,gotoOpenAppRangeView","0.9.21":"extPersonInfo,selectPersonsInGroup,startLightApp,rotateUI","0.9.22":"startSignFeedback","0.9.23":"startRecord,stopRecord,playVoice,pauseVoice,stopVoice,uploadVoice,downloadVoice","0.9.24":"scanBizCard","0.9.25":"groupAppSort,screenShare,getMobileContact","0.9.26":"shareFile","0.9.27":"selectGroups","0.9.28":"defTitleBar","0.9.29":"selectConcernPersons","0.9.30":"mergeMsgRecord","0.9.50":"invoice,voiceRecognize,projection,getProjectionState,savePic,addCalendarEvent,runtime.auth,runtime.jsReady,ui.toast","0.9.51":"chooseImage,uploadImage,downloadImage,cloudoffice.request,cloudoffice.clearCardNotify,cloudoffice.showCardNotify,cloudoffice.getRoleType,cloudoffice.textShareClosed,cloudoffice.checkAppAuth,cloudoffice.downloadPic","0.9.52":"dateTimePicker","0.9.55":"getWiFi,selectAnyLocation,bluetooth.openBluetoothAdapter,bluetooth.closeBluetoothAdapter,bluetooth.getBluetoothAdapterState,bluetooth.onBluetoothAdapterStateChange,bluetooth.startBluetoothDevicesDiscovery,bluetooth.stopBluetoothDevicesDiscovery,bluetooth.getBluetoothDevices,bluetooth.onBluetoothDeviceFound,bluetooth.getConnectedBluetoothDevices,bluetooth.createBLEConnection,bluetooth.closeBLEConnection,bluetooth.getBLEDeviceServices,bluetooth.getBLEDeviceCharacteristics,bluetooth.readBLECharacteristicValue,bluetooth.writeBLECharacteristicValue,bluetooth.notifyBLECharacteristicValueChange,bluetooth.onBLEConnectionStateChange,bluetooth.onBLECharacteristicValueChange,bluetooth.getBondDevice","0.9.56":"commonRoute","0.9.60":"video.startRecord,video.upload,video.download,video.play","0.9.62":"voidceChanger,bluetooth.BLEPrint","0.9.63":"voiceSynthesize,selectBusinessUnits,keepScreenOn,cloudoffice.dataReport,cloudoffice.checkWorkbenchUpdate","0.9.65":"selectRoles","0.9.66":"ui.navigate","0.9.67":"voiceAssistant","0.9.70":"defHomeMainTitleBar,reloadWebView","0.9.71":"ui.changeNavStyle,ui.webViewPaddingTop","0.9.72":"getCalenderEvent,showTopMenu","0.9.73":"startLocation,stopLocation","0.9.74":"startSpeechRecognize,stopSpeechRecognize","0.9.75":"shareMiniprogram,video.select","0.9.76":"selectPersonsInRole,setCallBackData,storage.getItem,storage.setItem,storage.removeItem,storage.clear","0.9.77":"createLive,createVoiceMeeting","0.9.79":"queryCalenderAccounts,assist,setShortcuts","0.9.80":"todoList"},ios:{"0.9.27":"setBounce","0.9.51":"getLocalImgData","0.9.61":"showARView","0.9.63":"setWebBottomInset","0.9.79":"setShortcuts"},android:{"0.9.30":"selectLocalFile","0.9.60":"getPhoneOSInfo"}};return o.apis={},Object.keys(t).forEach((function(o){var n=t[o];Object.keys(n).forEach((function(t){e(t,n[t],o)}))})),o.apis}t.a=o},function(e,t,o){"use strict";var n=o(0),i=window.qing,r=(i.isAndroid||i.isIos)&&i.checkVersion("0.9.76"),s=o(r?21:22);n.a("storage.getItem",s.getItem,!0),n.a("storage.setItem",s.setItem,!0),n.a("storage.removeItem",s.removeItem,!0),n.a("storage.clear",s.clear)},function(e,t){"use strict";t.a=function(e){var t,o=new XMLHttpRequest,n=/^(2\d{2}|304)$/;e.method||(e.method="GET"),e.error||(e.error=function(){}),e.success||(e.success=function(){}),o.open(e.method,e.url),o.onreadystatechange=function(){if(4===o.readyState)if(n.test(o.status))try{e.success(JSON.parse(o.responseText),o)}catch(t){e.error("JSON解析失败")}else e.error(o.responseText)},e.headers=e.headers||{},"json"===e.serializer?(t=JSON.stringify(e.data),e.headers["Content-type"]="application/json; charset=utf-8"):(t=function(e){var t=encodeURIComponent;return"string"!=typeof e&&e?Object.keys(e).map((function(o){return t(o)+"="+t(e[o])})).join("&"):e}(e.data),e.headers["Content-type"]="application/x-www-form-urlencoded; charset=utf-8"),e.headers&&Object.keys(e.headers).forEach((function(t){o.setRequestHeader(t,e.headers[t])})),o.send(t)}},function(e,t){"use strict";function o(){var e,t=arguments,i=!1;return"boolean"==typeof t[0]&&(i=Array.prototype.shift.call(t)),e=Array.prototype.shift.call(t),Array.prototype.forEach.call(t,(function(t){Object.keys(t).forEach((function(r){i&&"object"===n(t[r])&&"object"===n(e[r])?o(!0,e[r],t[r]):"undefined"!=typeof t[r]&&(e[r]=t[r])}))})),e}t.a=o;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,o){(function(e){if(!e.qing||!e.qing.version){var t=e.qing||(e.qing={});t.version="0.0.10",t.isReady=!1,t.debug=!1;var n=navigator.userAgent.toLowerCase(),i=n.match(/Qing\/(\d+(?:\.\d+)*)/i)||n.match(/App\/cloudhub \d+\/(\d+(?:\.\d+)*)/i),r=i;r&&(t.nativeJsBridgeVersion=i[1]),t.isSupportNativeJsBridge=!!r,o(8).init(t),o(9).init(t),o(27).init(t),r?t.isDesktop?3<parseInt(t.nativeJsBridgeVersion.replace(/\./g,""))?!e.__hasQingDesktop&&o(11):!e.__hasQingDesktopLE3&&o(10):t.checkVersion("0.9.50")?!e.__hasQingMobile&&o(15):!e.__hasQingMobile&&o(14):t.isWX||!e.__hasQingWeb&&o(24)}})(window)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),i=o(25),r=o(0);t.init=function(e){var t=document,c=[];e.once=function(t,o){e.on(t,(function n(){e.off(t,n),o&&o()}))};var a=e.ready=e._bridge?function(e){e&&e()}:function(e){t.addEventListener("QingReady",(function o(){e(),t.removeEventListener("QingReady",o)}))};e.config=function(t){e.debug=!!t.debug,a((function(){e._bridge.config(t)})),(t.jsEventList||[]).forEach((function(t){-1!=c.indexOf(t)||(c.push(t),e.on(t,(function(e){s(t,{data:e})})))}))},e.error=function(t){e.on("error",t)};var u=["call","off","on","checkJsApi","trigger"];u.forEach((function(t){e[t]=function(){var n=o.i(i.a)(arguments);a((function(){e[t].apply(e,n),n=null}))}})),a((function(){o.i(n.b)("Ready"),e.isReady=!0;var t=e._bridge;u.forEach((function(o){e[o]=t[o]})),e.call=r.b,e.checkJsApi=r.c,e.ready=function(e){e&&e()}})),e.error=function(t){e.on("error",t)},e.checkVersion=function(t){var o=e.nativeJsBridgeVersion;if(!o||"string"!=typeof t)return!1;if(o==t)return!0;for(var n=o.split("."),i=t.split("."),r=Math.max(n.length,i.length),s=0;s<r;s++){var c=~~i[s],a=~~n[s];if(c<a)return!0;if(c>a)return!1}};var l=[location.origin];e.trust=function(e){l.push(e)},window.addEventListener("message",(function(t){var o=t.data||{},n=o.params||{};!l.includes(t.origin)||o.call&&((o.callbackId||"number"==typeof o.callbackId)&&(n.complete=function(e){t.source.postMessage({callbackId:o.callbackId,result:e},"*")}),e.call&&e.call(o.call,n))}))};var s=function(e,t){var o=document.createEvent("HTMLEvents");if(t)for(var n in t)o[n]=t[n];o.initEvent(e),document.dispatchEvent(o)}},function(e,t,o){"use strict";function n(e){return e.replace(/(^|;|\s*)deviceName\s*:[^;]*(;|$)/i,";")}Object.defineProperty(t,"__esModule",{value:!0}),o.d(t,"init",(function(){return i}));var i=function(e){var t=n(navigator.userAgent.toLowerCase()||""),o=navigator.vendor&&navigator.vendor.toLowerCase()||"",i=navigator.appVersion.toLowerCase()||"",r=(e.isWX=/micromessenger/i.test(t),e.isChrome=/chrome|chromium/i.test(t)&&/google inc/.test(o),e.isFirefox=/firefox/i.test(t),e.isOpera=/^Opera\//.test(t)||/\x20OPR\//.test(t),e.isSafari=/safari/i.test(t)&&/apple computer/i.test(o),e.isIe=function(e){return e?11<=e?"ActiveXObject"in window:new RegExp("msie "+e).test(t):/msie/i.test(t)||"ActiveXObject"in window},e.isIphone=/iphone/i.test(t)),s=e.isIpad=/ipad/i.test(t),c=e.isIpod=/ipod/i.test(t),a=(e.isIos=r||s||c,e.isAndroid=/android/i.test(t)),u=e.isAndroidPhone=a&&/mobile/i.test(t),l=e.isAndroidTablet=a&&!/mobile/i.test(t),d=e.isBlackberry=/blackberry/i.test(t),f=e.isCoolpad=/coolpad/i.test(t),p=(e.isMac=/mac/i.test(i),e.isWindows=/win/i.test(i)),h=e.isWindowsPhone=p&&/phone/i.test(t),g=e.isWindowsTablet=p&&!h&&/touch/i.test(t),m=e.isMobile=r||c||u||d||h||f,v=e.isTablet=s||l||g;e.isDesktop=!m&&!v,e.isTouchDevice="ontouchstart"in window||"DocumentTouch"in window&&document instanceof DocumentTouch}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1);(function(e,t,i){if(!t.__hasQingDesktopLE3){t.__hasQingDesktopLE3=!0;var r={},s=0,c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=t.success,n=t.complete;delete t.success,delete t.error,delete t.complete;var i=++s;r[i]=function(e){"true"===e.success?e.success=!0:"false"===e.success&&(e.success=!1),o&&o(e,{code:200,data:e}),n&&n(e,{code:200,data:e})};var c=document.createElement("IFRAME");c.setAttribute("src","xuntong:"+e+":"+i+":"+encodeURIComponent(JSON.stringify(t))),c.setAttribute("height","1px"),c.setAttribute("width","1px"),document.documentElement.appendChild(c),c.parentNode.removeChild(c),c=null},a=function(e,t){try{var o=r[e];if(!o)return;o.apply(null,[JSON.parse(t)])}catch(e){alert(e)}},u={share:!0,chat:!0,personInfo:!0,getPersonInfo:!0,gotoLightApp:!0,selectPersons:!0,setWebViewTitle:!0,closeWebView:!0,close:!0,hideWebViewTitle:!0,defback:!0,showOptionMenu:!0,hideOptionMenu:!0,selectOrgs:!0,closePop:!0,createPop:!0},l=function(e){var t=e.jsApiList,o=e.success,n=e.complete,i={};(t||[]).forEach((function(e){i[e]=!!u[e]}));var r={success:!0,data:i};o&&o(r),n&&n(r)};t.XuntongJSBridge.handleMessageFromXT=a;var d=function(e){return function(){o.i(n.a)("method ["+e+"] not support")}};i._bridge={call:c,on:d,off:d,checkJsApi:l,config:d,trigger:d},e.dispatchEvent(new Event("QingReady"))}})(document,window,window.qing||(window.qing={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o(13),function(e,t,o){if(!t.__hasQingDesktop){t.__hasQingDesktop=!0;var n=t._CloudHubJSBridge;o._bridge={call:n.emit,on:n.on,off:n.off,checkJsApi:n.checkJsApi,trigger:n.trigger,config:function(){}},e.dispatchEvent(new Event("QingReady"))}}(document,window,window.qing||(window.qing={}))},function(e,t,o){"use strict";var n=o(2),i=o(0);i.a("getTicket",(function(e){o.i(n.a)(window.qing,e)}),!0)},function(e,t,o){"use strict";o(12)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),i=o(3),r=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var n in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e};(function(e,t,s){if(!t.__hasQingMobile){t.__hasQingMobile=!0;var c=function(e){return function(){o.i(n.a)("method ["+e+"] not support")}},a={index:1,map:{},register:function(e){this.index+=2;var t=""+this.index;return"function"==typeof e&&(this.map[t]=function(e){this.cb.call(null,e)}.bind({map:this.map,id:t,cb:e})),t},invoke:function(e,t){var o=this.map[e+""];"function"==typeof o&&o(t)}},u={invoke:function(e,t,o){var n,i=a.register(o);t="undefined"==typeof t?"":encodeURIComponent(JSON.stringify(t)),n="xuntong:"+e+":"+i+":"+t;var r=window.XTBridgeIframes=window.XTBridgeIframes||function(){var e,t,o=[];for(t=0;9>t;t++)e=document.createElement("IFRAME"),e.setAttribute("height","1px"),e.setAttribute("width","1px"),e.style.display="none",document.documentElement.appendChild(e),o.push(e);return o}();u.callbackIndex=u.callbackIndex||0;var s=u.callbackIndex;u.callbackIndex+=1;var c=r[s%9];c.setAttribute("src",n),setTimeout((function(){c.removeAttribute("src")}),10)},callback:function(e,t){if("string"==typeof t&&t.match(/^\s*\{/))try{t=JSON.parse(t),t&&"string"==typeof t.success&&(t.success="true"===t.success)}catch(e){console.error(e)}a.invoke(e,t)}};window.XuntongJSBridge=r({invoke:u.invoke,call:u.invoke,handleMessageFromXT:u.callback},window.XuntongJSBridge),s._bridge={call:function(e,t){t=t||{};var o=t.success,n=t.complete;delete t.success,delete t.error,delete t.complete,u.invoke(e,t,(function(){"function"==typeof o&&o.apply(null,arguments),"function"==typeof n&&n.apply(null,arguments)}))},on:c,off:c,checkJsApi:function(e){var t=e.jsApiList,n={},r=o.i(i.a)();(t||[]).forEach((function(e){var t=r[e],o=s.isAndroid?"android":s.isIos?"ios":"other";n[e]=t&&t[o]&&s.checkVersion(t.version)})),"function"==typeof e.success&&e.success({success:!0,data:n})},config:c,trigger:c},e.dispatchEvent(new Event("QingReady"))}})(document,window,window.qing||(window.qing={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(26),i=o(6),r=o(3);o(18);(function(e,t,s){function c(){var e={call:function(e){o.i(n.a)(g,e)?p.invoke.apply(null,arguments):h.call.apply(null,arguments)},on:p.on,handleMessageFromXT:h.handleMessageFromXT};e.invoke=e.call,t.XuntongJSBridge=e;var i="eventPrefix_",c={},u=function(t){c[t]||(c[t]=!0,e.on(t,(function(e){a(i+t,{eventData:e})})))};s._bridge={call:function(t,o){o=o||{};var n=o.success,i=o.complete;delete o.success,delete o.error,delete o.complete,e.call(t,o,(function(e){var t={code:200,data:e};n&&n(e,t),i&&i(e,t)}))},on:function(e,t){t&&(u(e),"function"==typeof t&&(t={success:t}),document.addEventListener(i+e,(function(e){"function"==typeof t.success&&t.success(e.eventData),"function"==typeof t.complete&&t.complete(e.eventData)})))},off:function(e,t){document.removeEventListener(i+e,t)},checkJsApi:function(e){var t=e.jsApiList,n={};if(s.checkVersion("0.9.80"))s.call("checkJsApi",e);else{var i=o.i(r.a)();(t||[]).forEach((function(e){var t=i[e],o=s.isAndroid?"android":s.isIos?"ios":"other";n[e]=t&&t[o]&&s.checkVersion(t.version)})),"function"==typeof e.success&&e.success({success:!0,data:n})}},config:function(){},trigger:function(e,t){p.trigger(e,t)}},a("QingReady",s._bridge)}if(!t.__hasQingMobile){t.__hasQingMobile=!0;var a=function(e,t){var n=document.createEvent("HTMLEvents");o.i(i.a)(n,t),n.initEvent(e),document.dispatchEvent(n)},u=function(e){var t=e.match(/(.+)\.([^\.]+)/);return t&&3===t.length?{name:t[2],ns:t[1]}:{ns:"",name:e}},l=function(){var e=navigator.userAgent.split(";")[0],t=e.slice(e.indexOf("Qing/")+5);return parseFloat(t.slice(2))}(),d={map:{},index:1,indexStep:2,register:function(e){this.index+=this.indexStep;var t=""+this.index;return"function"==typeof e&&(this.map[t]=function(e){this.cb.call(null,e)}.bind({map:this.map,id:t,cb:e})),t},invoke:function(e,t){var o=this.map[e+""];"function"==typeof o&&o(t)}},f={},p={invoke:function(e,t,o){var n=(window.ClientInfo||{}).v9bridge||"cloudhub";return h.call(e,t,o,n)},callback:function(e,t){return h.handleMessageFromXT(e,t)},on:function(e,t){f[e]||(f[e]=[]),f[e].push(t)},trigger:function(e,t){(f[e]||[]).forEach((function(e){"function"==typeof e&&e(t)}))}},h={call:function(e,t,o,n){var i,r=d.register(o);if(t="undefined"==typeof t?"":encodeURIComponent(JSON.stringify(t)),n?(e=u(e),i=n+"://"+e.ns+":"+r+"/"+e.name+"?"+t):i="xuntong:"+e+":"+r+":"+t,s.isAndroid){if(window.AndroidInterface)return window.AndroidInterface.call(i),r;if(9.59<=l)return window.prompt(i),r}else{if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.wkbridge2)return window.webkit.messageHandlers.wkbridge2.postMessage({url:i}),r;if(window.kdUIWebViewBridge)return window.kdUIWebViewBridge(i),r}var c=window.XTBridgeIframes=window.XTBridgeIframes||function(){var e,t,o=[];for(t=0;9>t;t++)e=document.createElement("IFRAME"),e.setAttribute("height","1px"),e.setAttribute("width","1px"),e.style.display="none",document.documentElement.appendChild(e),o.push(e);return o}();h.callbackIndex=h.callbackIndex||0;var a=h.callbackIndex;h.callbackIndex+=1;var f=c[a%9];return f.setAttribute("src",i),setTimeout((function(){f.removeAttribute("src")}),10),r},handleMessageFromXT:function(e,t){if("string"==typeof t&&t.match(/^\s*\{/))try{t=JSON.parse(t),t&&"string"==typeof t.success&&(t.success="true"===t.success)}catch(e){console.error(e)}d.invoke(e,t)}},g=["runtime.auth","runtime.jsReady","cloudoffice.request","cloudoffice.showCardNotify","cloudoffice.clearCardNotify","cloudoffice.getRoleType","cloudoffice.checkAppAuth","cloudoffice.shareText","cloudoffice.downloadPic","cloudoffice.checkWorkbenchUpdate","cloudoffice.textShareClosed","cloudoffice.dataReport","cloudoffice.setScrollEnable","ui.changeNavBarStyle","ui.changeNavStyle","ui.toast","ui.webViewScrollTo","ui.webViewPaddingTop","ui.navigate","storage.getItem","storage.setItem","storage.removeItem","storage.clear","bluetooth.openBluetoothAdapter","bluetooth.closeBluetoothAdapter","bluetooth.getBluetoothAdapterState","bluetooth.onBluetoothAdapterStateChange","bluetooth.startBluetoothDevicesDiscovery","bluetooth.stopBluetoothDevicesDiscovery","bluetooth.getBluetoothDevices","bluetooth.onBluetoothDeviceFound","bluetooth.getConnectedBluetoothDevices","bluetooth.createBLEConnection","bluetooth.closeBLEConnection","bluetooth.getBLEDeviceServices","bluetooth.getBLEDeviceCharacteristic","bluetooth.readBLECharacteristicValue","bluetooth.writeBLECharacteristicValue","bluetooth.notifyBLECharacteristicValueChange","bluetooth.onBLEConnectionStateChange","bluetooth.onBLECharacteristicValueChange","bluetooth.getBLEDeviceCharacteristics","bluetooth.BLEPrint","bluetooth.getBondDevice","bluetooth.connectBluetoothDevice","bluetooth.writeBluetoothDevice","bluetooth.closeBluetoothConnection","video.startRecord","video.upload","video.download","video.play","video.select"];c(),Object.defineProperty(window,"CloudHubJSBridge",{set:function(){},get:function(){return p}})}})(document,window,window.qing||(window.qing={}))},function(e,t,o){"use strict";var n=o(0),i=function(e,t){return e=window.qing.checkVersion("0.9.71")?"ui.changeNavStyle":"ui.changeNavBarStyle",{name:e,params:t}};n.a("ui.changeNavBarStyle",i),n.a("ui.changeNavStyle",i)},function(e,t,o){"use strict";var n=o(2),i=o(0);i.a("getTicket",(function(e){o.i(n.a)(window.qing,e)}),!0,!0)},function(e,t,o){"use strict";o(17),o(23),o(19),o(4),o(16)},function(e,t,o){"use strict";var n=o(0);n.a("request",(function(e){return{name:"cloudoffice.request",params:e}}))},function(e,t){"use strict";t.a=function(e){return"string"==typeof e?(e=e.replace(/'/gm,"▴▴").replace(/"/gm,"▾▾"),escape(e)):e},t.b=function(e){return"string"==typeof e?(e=unescape(e),e.replace(/▴▴/gm,"'").replace(/▾▾/gm,'"')):e}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(20);t.setItem=function(e){return e.value=o.i(n.a)(e.value),{name:"storage.setItem",params:e}},t.getItem=function(e){var t=e.success;return e.success=function(e){e.success&&e.data&&e.data.value&&(e.data.value=o.i(n.b)(e.data.value)),t(e)},{name:"storage.getItem",params:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setItem=function(e){var t="clientStorage_"+e.key,n=e.success;o.setItem(t,e.value),n&&n()},t.getItem=function(e){var t="clientStorage_"+e.key,n=e.success;n&&n({success:!0,data:{value:o.getItem(t)}})},t.removeItem=function(e){var t="clientStorage_"+e.key,n=e.success;o.removeItem(t),n&&n()},t.clear=function(){};var o=window.localStorage},function(e,t,o){"use strict";var n=o(0);n.a("toast",(function(e){return e.message=e.msg,delete e.msg,{name:"ui.toast",params:e}}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(6),i=o(4),r=o(5);(function(e,t,s){function c(e,t){var o=window.top.__sessionUser,n=window.top.__myinfo,i=100;t=t||0,o&&n?e({success:!0,data:{id:n.id,openId:o.openId,wbnetworkid:o.wbNetworkId,eid:o.eid,companyName:o.companyName,photoUrl:o.photoUrl,name:o.name,wbuserid:o.wbUserId}}):t*i>3e4?e({success:!1}):setTimeout((function(){c(e)}),i)}function a(){var e={call:function(e,t,n,i){switch(e){case"toast":alert(t.msg);break;case"request":o.i(r.a)({url:t.url,data:t.data,method:t.method,headers:t.headers,serializer:t.serializer,success:t.success||n,error:t.error||i});break;case"gotoLightApp":"function"==typeof window.top.gotoLightApp&&window.top.gotoLightApp(t);break;case"getPersonInfo":c((function(e){e.success?("function"==typeof t.success&&t.success(e),"function"==typeof n&&n(e)):("function"==typeof t.error&&t.error(e),"function"==typeof i&&i(e)),"function"==typeof t.complete&&t.complete(e)}));break;default:console.log("not support bridge: "+e)}},on:function(){},handleMessageFromXT:function(){}};e.invoke=e.call,t.XuntongJSBridge=e,s._bridge={call:function(t,n){if(n=n||{},t.match(/^storage\./))o.i(i["default"])(s,e,t,n);else{var r=n.success,c=n.error,a=n.complete;delete n.success,delete n.error,delete n.complete,"ui.toast"===t&&(t="toast",n.msg=n.message,delete n.message),"cloudoffice.request"===t&&(t="request"),e.call(t,n,(function(){"function"==typeof r&&r.apply(null,arguments),"function"==typeof a&&a.apply(null,arguments)}),(function(){"function"==typeof c&&c.apply(null,arguments),"function"==typeof a&&a.apply(null,arguments)}))}},on:function(){},off:function(){},checkJsApi:function(e){return"storage"===e||"storage.getItem"===e||"storage.setItem"===e||"storage.removeItem"===e||"storage.clear"===e||"ui.toast"===e||"toast"===e||"request"===e||"cloudoffice.request"===e||"gotoLightApp"===e||"getPersonInfo"===e},config:function(){},trigger:function(){}},u("QingReady",s._bridge)}if(!t.__hasQingWeb){t.__hasQingWeb=!0;var u=function(e,t){var i=document.createEvent("HTMLEvents");o.i(n.a)(i,t),i.initEvent(e,!0,!1),document.dispatchEvent(i)};a()}})(document,window,window.qing||(window.qing={}))},function(e,t){"use strict";var o=Array.from;t.a=o||function(e){for(var t=e.length,o=[],n=0;n<t;n++)o.push(e[n]);return o}},function(e,t){"use strict";t.a=function(e,t){return e&&e.some&&e.some((function(e){return e===t}))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(e){o.XuntongJSBridge={call:function(t){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];n&&(o.complete=n),e.call(t,o)}}};var o=window},function(e,t,o){e.exports=o(7)}])},3423:function(e,t,o){"use strict";function n(e){this.message=e}o.d(t,{Z:function(){return l}}),n.prototype=new Error,n.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,r=0,s=0,c="";i=t.charAt(s++);~i&&(o=r%4?64*o+i:i,r++%4)?c+=String.fromCharCode(255&o>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return c};function r(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(i(e).replace(/(.)/g,(function(e,t){var o=t.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o})))}(t)}catch(e){return i(t)}}function s(e){this.message=e}function c(e,t){if("string"!=typeof e)throw new s("Invalid token specified");var o=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[o]))}catch(e){throw new s("Invalid token specified: "+e.message)}}s.prototype=new Error,s.prototype.name="InvalidTokenError";var a=c;let u={data(){return{}},filters:{},methods:{async loginInit(e){let t=a(e),o=await this._api.myInfo(),n=o.data;if(!n)return this.$u.msg("用户基本信息获取失败！");n.uid=t.uid,n.role=t.role,this.$u.setItem("myInfo",n);let i=await this._api.menuIndex({isWap:1,PageSize:1e3});if(console.log(i),0==i.data.length)return this.$u.msg("登录失败！当前账号无权限！","/static/img/warning.png");let r=i.data;this.$u.setItem("menu",r),this.$config.customHome?this.$router.push(this.$config.customHome):this.$router.push("/Home")}}};var l=u}}]);
//# sourceMappingURL=3903.274884a6.js.map