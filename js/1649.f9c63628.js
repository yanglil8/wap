"use strict";(self["webpackChunkwap"]=self["webpackChunkwap"]||[]).push([[1649],{1649:function(t,e,r){r.r(e),r.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-page"},[e("List",{ref:"list",attrs:{apis:t.apis,render:t.render,fieldToPage:t.fieldToPage,FormCode:"oa_driver"}},[e("el-button",{attrs:{slot:"contentRight",type:"primary"},on:{click:t.auditAny},slot:"contentRight"},[t._v("批量审核")]),e("el-button",{attrs:{slot:"contentRight",type:"primary"},on:{click:function(e){return t.$refs.FormAE.start(!1)}},slot:"contentRight"},[t._v("新增")])],1),e("FormAE",{ref:"FormAE",attrs:{apis:t.apis,FormsCode:"oa_driver",upLoadBeforSubmit:"",imgNameField:"Icon"},on:{refresh:function(e){return t.$refs.list.getList()}}}),e("FormDetails",{ref:"FormDetails",attrs:{apis:t.apis,FormsCode:"oa_driver"}})],1)},i=[],l={name:"DriverList",props:{},components:{List:()=>Promise.all([r.e(3903),r.e(8208)]).then(r.bind(r,7808)),FormAE:()=>r.e(7139).then(r.bind(r,7139)),FormDetails:()=>r.e(3431).then(r.bind(r,3431))},data(){return{apis:{edit:this._api.VMS_DriverEdit,create:this._api.VMS_DriverCreate,list:this._api.VMS_DriverManage,delete:this._api.VMS_DriverDelete,audit:this._api.VMS_DriverAudit,details:this._api.VMS_DriverDetails},fieldToPage:{FName:this.toDetails}}},methods:{render(t){return t("div",[t("el-table-column",{attrs:{prop:"FName",label:"姓名","min-width":"100",align:"center"}}),t("el-table-column",{attrs:{prop:"FGender",label:"性别",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"FBirthDay",label:"出生日期",width:"100",align:"center",formatter:e=>t("span",[e.FBirthDay?this.$time(e.FBirthDay).format("YYYY-MM-DD"):""])}}),t("el-table-column",{attrs:{prop:"FIDNumber",label:"身份证号",width:"180",align:"center"}}),t("el-table-column",{attrs:{prop:"Icon",label:"照片",width:"100",align:"center",formatter:e=>t("a",{attrs:{href:e.Icon,target:"_blank"}},[t("img",{attrs:{src:e.Icon},style:"width:70px"})])}}),t("el-table-column",{attrs:{prop:"FDriversLicense",label:"驾驶证类型",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"FDriversLicenseStartDate",label:"驾驶证获取日期",width:"120",align:"center",formatter:e=>t("span",[e.FDriversLicenseStartDate?this.$time(e.FDriversLicenseStartDate).format("YYYY-MM-DD"):""])}}),t("el-table-column",{attrs:{prop:"FDriversLicenseIndate",label:"驾驶证有效期",width:"120",align:"center",formatter:e=>t("span",[e.FDriversLicenseIndate?this.$time(e.FDriversLicenseIndate).format("YYYY-MM-DD"):""])}}),t("el-table-column",{attrs:{prop:"FEducation",label:"学历",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"FProfession",label:"专业",width:"160",align:"center"}}),t("el-table-column",{attrs:{prop:"FMobile",label:"联系方式",width:"120",align:"center"}}),t("el-table-column",{attrs:{prop:"FAddress",label:"家庭住址",width:"200",align:"center"}}),t("el-table-column",{attrs:{prop:"FHiredate",label:"入职日期",width:"100",align:"center",formatter:e=>t("span",[e.FHiredate?this.$time(e.FHiredate).format("YYYY-MM-DD"):""])}}),t("el-table-column",{attrs:{prop:"FContractToDate",label:"合同日期",width:"100",align:"center",formatter:e=>t("span",[e.FContractToDate?this.$time(e.FContractToDate).format("YYYY-MM-DD"):""])}}),t("el-table-column",{attrs:{prop:"CreateName",label:"创建人",width:"100",align:"center"}}),t("el-table-column",{attrs:{prop:"CreateTime",label:"创建时间",width:"160",align:"center"}})])},toDetails(t){this.$refs.FormDetails.start(t)},auditAny(){let t=this.$refs.list.chooseList;0!==t.length&&this.$u.confirm("请确认批量审核!").then((()=>{this.apis.audit(t.map((t=>({Id:t.Id,FStatus:3})))).then((t=>{t&&(this.$u.msg("审核成功!"),this.$refs.list.getList())}))})).catch((()=>{}))}},mounted(){}},n=l,s=r(3736),o=(0,s.Z)(n,a,i,!1,null,"0c955d20",null),c=o.exports}}]);