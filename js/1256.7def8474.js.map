{"version":3,"file":"js/1256.7def8474.js","mappings":"mJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACG,YAAY,CAAC,QAAU,OAAO,kBAAkB,gBAAgB,cAAc,WAAW,CAACH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,UAAU,KAAKR,EAAIO,GAAGP,EAAIS,YAAY,UAAUP,EAAG,aAAa,CAACQ,IAAI,aAAaC,MAAM,CAAC,IAAM,OAAO,OAAS,KAAKC,GAAG,CAAC,KAAOZ,EAAIa,KAAK,MAAQb,EAAIc,KAAKd,EAAIe,GAAIf,EAAIgB,UAAU,SAASC,EAAKC,GAAO,OAAOhB,EAAG,MAAM,CAACiB,IAAID,EAAMd,YAAY,oBAAoB,CAACF,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,OAAO,CAACX,EAAIM,GAAGN,EAAIO,GAAGU,EAAKG,WAAWlB,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,OAAO,CAACX,EAAIM,GAAGN,EAAIO,GAAGU,EAAKI,eAAenB,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,SAAS,CAACX,EAAIM,GAAGN,EAAIO,GAAGP,EAAIsB,MAAML,EAAKM,OAAOC,OAAO,kBAAkBtB,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,SAAS,CAAEM,EAAKQ,UAAWvB,EAAG,OAAO,CAACG,YAAY,CAAC,eAAe,SAAS,CAACL,EAAIM,GAAGN,EAAIO,GAAGU,EAAKQ,cAAczB,EAAI0B,KAAKxB,EAAG,aAAa,CAACS,MAAM,CAAC,KAAO,OAAO,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASe,GAAQ,OAAO3B,EAAI4B,UAAU,YAAYX,EAAK,IAAI,CAACjB,EAAIM,GAAG,WAAW,GAAGJ,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,SAAS,CAAEM,EAAKY,QAAS3B,EAAG,OAAO,CAACG,YAAY,CAAC,eAAe,SAAS,CAACL,EAAIM,GAAGN,EAAIO,GAAGU,EAAKY,YAAY7B,EAAI0B,KAAKxB,EAAG,aAAa,CAACS,MAAM,CAAC,KAAO,OAAO,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASe,GAAQ,OAAO3B,EAAI4B,UAAU,UAAUX,EAAK,IAAI,CAACjB,EAAIM,GAAG,WAAW,GAAGJ,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,SAAS,CAACX,EAAIM,GAAGN,EAAIO,GAAGU,EAAKa,eAAe5B,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,SAAS,CAACX,EAAIM,GAAGN,EAAIO,GAAGU,EAAKc,aAAa7B,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,QAAQ,CAACX,EAAIM,GAAGN,EAAIO,GAAGU,EAAKe,eAAe9B,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,SAAS,CAACX,EAAIM,GAAGN,EAAIO,GAAGU,EAAKgB,gBAAgB,EAAE,IAAG,GAAIjC,EAAIkC,QAAShC,EAAG,YAAYF,EAAI0B,KAAKxB,EAAG,YAAY,CAACS,MAAM,CAAC,SAAW,OAAOwB,MAAM,CAACC,MAAOpC,EAAIqC,SAAUC,SAAS,SAAUC,GAAMvC,EAAIqC,SAASE,CAAG,EAAEC,WAAW,aAAa,CAACtC,EAAG,MAAM,CAACG,YAAY,CAAC,QAAU,sBAAsB,CAAwB,aAAtBL,EAAIyC,iBAA+BvC,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,WAAW,CAACT,EAAG,QAAQ,CAACwC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUR,MAAOpC,EAAI6C,OAAOpB,UAAWe,WAAW,qBAAqBM,SAAS,CAAC,MAAS9C,EAAI6C,OAAOpB,WAAYb,GAAG,CAAC,MAAQ,SAASe,GAAWA,EAAOoB,OAAOC,WAAiBhD,EAAIiD,KAAKjD,EAAI6C,OAAQ,YAAalB,EAAOoB,OAAOX,MAAM,OAAOpC,EAAI0B,KAA4B,WAAtB1B,EAAIyC,iBAA6BvC,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,WAAW,CAACT,EAAG,QAAQ,CAACwC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUR,MAAOpC,EAAI6C,OAAOhB,QAASW,WAAW,mBAAmBM,SAAS,CAAC,MAAS9C,EAAI6C,OAAOhB,SAAUjB,GAAG,CAAC,MAAQ,SAASe,GAAWA,EAAOoB,OAAOC,WAAiBhD,EAAIiD,KAAKjD,EAAI6C,OAAQ,UAAWlB,EAAOoB,OAAOX,MAAM,OAAOpC,EAAI0B,KAA4B,WAAtB1B,EAAIyC,iBAA6BvC,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,SAAS,CAACT,EAAG,QAAQ,CAACwC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUR,MAAOpC,EAAI6C,OAAOK,QAASV,WAAW,mBAAmBM,SAAS,CAAC,MAAS9C,EAAI6C,OAAOK,SAAUtC,GAAG,CAAC,MAAQ,SAASe,GAAWA,EAAOoB,OAAOC,WAAiBhD,EAAIiD,KAAKjD,EAAI6C,OAAQ,UAAWlB,EAAOoB,OAAOX,MAAM,OAAOpC,EAAI0B,KAA4B,aAAtB1B,EAAIyC,iBAA+BvC,EAAG,WAAW,CAACS,MAAM,CAAC,KAAO,SAAS,CAACT,EAAG,QAAQ,CAACwC,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUR,MAAOpC,EAAI6C,OAAOK,QAASV,WAAW,mBAAmBM,SAAS,CAAC,MAAS9C,EAAI6C,OAAOK,SAAUtC,GAAG,CAAC,MAAQ,SAASe,GAAWA,EAAOoB,OAAOC,WAAiBhD,EAAIiD,KAAKjD,EAAI6C,OAAQ,UAAWlB,EAAOoB,OAAOX,MAAM,OAAOpC,EAAI0B,KAAKxB,EAAG,aAAa,CAACG,YAAY,CAAC,MAAQ,oBAAoB,OAAS,QAAQM,MAAM,CAAC,KAAO,UAAU,MAAQ,GAAG,MAAQX,EAAImD,QAAQC,OAAOxC,GAAG,CAAC,MAAQZ,EAAIqD,eAAe,CAACrD,EAAIM,GAAG,UAAU,MAAM,EAC96G,EACIgD,EAAkB,GCiDtB,GACAX,KAAAA,QACAY,WAAAA,CAAAA,EACAC,OACA,OACAxC,SAAAA,GACAkB,SAAAA,EACA1B,SAAAA,GACAC,WAAAA,KACA4B,UAAAA,EACAQ,OAAAA,CAAAA,EACAJ,iBAAAA,GAEA,EAEAgB,QAAAA,CACA5C,KAAAA,GACA,+BACA,EAEAC,IAAAA,EAAAA,IACA,sCACA,gBACA4C,KAAAA,EAAAA,IACAC,SAAAA,EAAAA,OACA,UACA,MACA,aACA,6BACA,8BACA,sCACAC,QAAAA,IAAAA,KAAAA,UACA,qBACAC,EAAAA,WAAAA,EAAAA,OAAAA,GAEA,CACA,kBAEA,EACAjC,UAAAA,EAAAA,GAEA,cACA,wBACA,iBACAkC,EAAAA,GAAAA,KAAAA,MAAAA,IAAAA,MAAAA,OAAAA,mBACA,EACAT,eACA,iBACA,8BAAAU,YAAAA,aAAA,aAAAA,YAAAA,qBACA,0DAGA,GAEA,GAGA,gBACA,YACA,gDACA,GC/GiT,I,UCQ7SC,GAAY,OACd,EACAjE,EACAuD,GACA,EACA,KACA,WACA,MAIF,EAAeU,EAAiB,O","sources":["webpack://wap/./src/pages/vms/carsUsingRecord/CarsUsingRecordMy.vue","webpack://wap/src/pages/vms/carsUsingRecord/CarsUsingRecordMy.vue","webpack://wap/./src/pages/vms/carsUsingRecord/CarsUsingRecordMy.vue?b0f0","webpack://wap/./src/pages/vms/carsUsingRecord/CarsUsingRecordMy.vue?35a5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-page\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"headerTag\"},[_vm._v(\" \"+_vm._s(_vm.pageName)+\" [\"+_vm._s(_vm.totalcount)+\"] \")])]),_c('ScrollView',{ref:\"ScrollView\",attrs:{\"top\":\"40px\",\"bottom\":\"0\"},on:{\"down\":_vm.down,\"upFun\":_vm.up}},_vm._l((_vm.dataList),function(item,index){return _c('div',{key:index,staticClass:\"shadow list-item\"},[_c('ListLine',{attrs:{\"name\":\"车辆\"}},[_vm._v(_vm._s(item.FCarNo))]),_c('ListLine',{attrs:{\"name\":\"司机\"}},[_vm._v(_vm._s(item.DriverName))]),_c('ListLine',{attrs:{\"name\":\"用车日期\"}},[_vm._v(_vm._s(_vm.$time(item.FDate).format(\"YYYY-MM-DD\")))]),_c('ListLine',{attrs:{\"name\":\"开始时间\"}},[(item.StartTime)?_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(_vm._s(item.StartTime))]):_vm._e(),_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openPopup('StartTime',item)}}},[_vm._v(\"发车确认\")])],1),_c('ListLine',{attrs:{\"name\":\"结束时间\"}},[(item.EndTime)?_c('span',{staticStyle:{\"margin-right\":\"10px\"}},[_vm._v(_vm._s(item.EndTime))]):_vm._e(),_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openPopup('EndTime',item)}}},[_vm._v(\"还车确认\")])],1),_c('ListLine',{attrs:{\"name\":\"开始地点\"}},[_vm._v(_vm._s(item.FStartSite))]),_c('ListLine',{attrs:{\"name\":\"结束地点\"}},[_vm._v(_vm._s(item.FEndSite))]),_c('ListLine',{attrs:{\"name\":\"创建人\"}},[_vm._v(_vm._s(item.CreateTime))]),_c('ListLine',{attrs:{\"name\":\"创建时间\"}},[_vm._v(_vm._s(item.CreateName))])],1)}),0),(_vm.loading)?_c('hLoading'):_vm._e(),_c('van-popup',{attrs:{\"position\":\"top\"},model:{value:(_vm.timeShow),callback:function ($$v) {_vm.timeShow=$$v},expression:\"timeShow\"}},[_c('div',{staticStyle:{\"padding\":\"150px 15px 0 15px\"}},[(_vm.curTimeFieldName=='StartTime')?_c('ListLine',{attrs:{\"name\":\"用车开始时间\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.curRow.StartTime),expression:\"curRow.StartTime\"}],domProps:{\"value\":(_vm.curRow.StartTime)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.curRow, \"StartTime\", $event.target.value)}}})]):_vm._e(),(_vm.curTimeFieldName=='EndTime')?_c('ListLine',{attrs:{\"name\":\"用车结束时间\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.curRow.EndTime),expression:\"curRow.EndTime\"}],domProps:{\"value\":(_vm.curRow.EndTime)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.curRow, \"EndTime\", $event.target.value)}}})]):_vm._e(),(_vm.curTimeFieldName=='EndTime')?_c('ListLine',{attrs:{\"name\":\"结束里程\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.curRow.Mileage),expression:\"curRow.Mileage\"}],domProps:{\"value\":(_vm.curRow.Mileage)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.curRow, \"Mileage\", $event.target.value)}}})]):_vm._e(),(_vm.curTimeFieldName=='StartTime')?_c('ListLine',{attrs:{\"name\":\"开始里程\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.curRow.Mileage),expression:\"curRow.Mileage\"}],domProps:{\"value\":(_vm.curRow.Mileage)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.curRow, \"Mileage\", $event.target.value)}}})]):_vm._e(),_c('van-button',{staticStyle:{\"width\":\"calc(100% - 30px)\",\"margin\":\"15px\"},attrs:{\"type\":\"primary\",\"block\":\"\",\"color\":_vm.$config.theme},on:{\"click\":_vm.confirmPopup}},[_vm._v(\"确 认\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"main-page\">\r\n        <div style=\"display: flex; justify-content: space-between; align-items: center\">\r\n            <div class=\"headerTag\">\r\n                {{ pageName }}\r\n                [{{ totalcount }}]\r\n            </div>\r\n        </div>\r\n\r\n        <ScrollView ref=\"ScrollView\" top=\"40px\" bottom=\"0\" @down=\"down\" @upFun=\"up\">\r\n            <div v-for=\"(item, index) in dataList\" :key=\"index\" class=\"shadow list-item\">\r\n                <ListLine name=\"车辆\">{{item.FCarNo}}</ListLine>\r\n                <ListLine name=\"司机\">{{item.DriverName}}</ListLine>\r\n                <ListLine name=\"用车日期\">{{$time(item.FDate).format(\"YYYY-MM-DD\") }}</ListLine>\r\n                <ListLine name=\"开始时间\">\r\n                    <span v-if=\"item.StartTime\" style=\"margin-right:10px\">{{item.StartTime}}</span>\r\n                    <van-button type=\"info\" size=\"small\" @click=\"openPopup('StartTime',item)\">发车确认</van-button>\r\n                </ListLine>\r\n                <ListLine name=\"结束时间\">\r\n                    <span v-if=\"item.EndTime\" style=\"margin-right:10px\">{{item.EndTime}}</span>\r\n                    <van-button type=\"info\" size=\"small\" @click=\"openPopup('EndTime',item)\">还车确认</van-button>\r\n                </ListLine>\r\n                <ListLine name=\"开始地点\">{{item.FStartSite}}</ListLine>\r\n                <ListLine name=\"结束地点\">{{item.FEndSite}}</ListLine>\r\n                <ListLine name=\"创建人\">{{item.CreateTime}}</ListLine>\r\n                <ListLine name=\"创建时间\">{{item.CreateName}}</ListLine>\r\n            </div>\r\n        </ScrollView>\r\n        <hLoading v-if=\"loading\" />\r\n        <van-popup v-model=\"timeShow\" position=\"top\">\r\n            <div style=\"padding: 150px 15px 0 15px\">\r\n                <ListLine name=\"用车开始时间\" v-if=\"curTimeFieldName=='StartTime'\">\r\n                    <input v-model=\"curRow.StartTime\" />\r\n                </ListLine>\r\n                <ListLine name=\"用车结束时间\" v-if=\"curTimeFieldName=='EndTime'\">\r\n                    <input v-model=\"curRow.EndTime\" />\r\n                </ListLine>\r\n                <ListLine name=\"结束里程\" v-if=\"curTimeFieldName=='EndTime'\">\r\n                    <input v-model=\"curRow.Mileage\" />\r\n                </ListLine>\r\n                <ListLine name=\"开始里程\" v-if=\"curTimeFieldName=='StartTime'\">\r\n                    <input v-model=\"curRow.Mileage\" />\r\n                </ListLine>\r\n\r\n                <van-button type=\"primary\" block :color=\"$config.theme\" style=\"width: calc(100% - 30px); margin: 15px\" @click=\"confirmPopup\">确 认</van-button>\r\n            </div>\r\n        </van-popup>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Class\",\r\n    components: {},\r\n    data() {\r\n        return {\r\n            dataList: [],\r\n            loading: true,\r\n            pageName: \"\",\r\n            totalcount: null,\r\n            timeShow: false,\r\n            curRow: {},\r\n            curTimeFieldName: \"\"\r\n        };\r\n    },\r\n\r\n    methods: {\r\n        down(instance) {\r\n            this.$refs[\"ScrollView\"].reUp();\r\n        },\r\n        // 上拉加载\r\n        up([page, instance]) {\r\n            this._api.VMS_CarUsingRecordIndex({\r\n                ...this.searchInfo,\r\n                Page: page.num,\r\n                PageSize: page.size,\r\n            }).then((res) => {\r\n                if (res) {\r\n                    let arr = res.data;\r\n                    this.totalcount = res.totalcount;\r\n                    if (page.num === 1) this.dataList = [];\r\n                    this.dataList = this.dataList.concat(arr);\r\n                    console.log(this.dataList)\r\n                    this.$nextTick(() => {\r\n                        instance.endSuccess(arr.length);\r\n                    });\r\n                }\r\n                this.loading = false\r\n            })\r\n        },\r\n        openPopup(fieldName, row) {\r\n\r\n            this.curRow = row;\r\n            this.curTimeFieldName = fieldName;\r\n            this.timeShow = true;\r\n            row[fieldName] = this.$time(new Date()).format(\"YYYY-MM-DD HH:mm\")\r\n        },\r\n        confirmPopup() {\r\n            this.timeShow = false\r\n            let str = this.curTimeFieldName == { FieldsNames: \"StartTime\" } ? \"StartTime\" : { FieldsNames: \"StartTime,Mileage\" }\r\n            this._api.VMS_CarUsingRecordEdit(this.curRow, str).then(res => {\r\n                if (res) {\r\n\r\n                }\r\n            })\r\n        }\r\n    },\r\n\r\n    async mounted() {\r\n        this.init();\r\n        this.pageName = sessionStorage.getItem(\"pageName\");\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.list-item {\r\n    width: calc(100% - 30px);\r\n    margin: 5px auto 10px;\r\n    padding: 0 15px 10px;\r\n    border-radius: 3px;\r\n}\r\n\r\n::v-deep .list-line-content {\r\n    // display: flex;\r\n    // align-items: center;\r\n    // justify-content: end !important;\r\n    // text-align: right;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CarsUsingRecordMy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CarsUsingRecordMy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CarsUsingRecordMy.vue?vue&type=template&id=24289ead&scoped=true&\"\nimport script from \"./CarsUsingRecordMy.vue?vue&type=script&lang=js&\"\nexport * from \"./CarsUsingRecordMy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CarsUsingRecordMy.vue?vue&type=style&index=0&id=24289ead&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24289ead\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","_v","_s","pageName","totalcount","ref","attrs","on","down","up","_l","dataList","item","index","key","FCarNo","DriverName","$time","FDate","format","StartTime","_e","$event","openPopup","EndTime","FStartSite","FEndSite","CreateTime","CreateName","loading","model","value","timeShow","callback","$$v","expression","curTimeFieldName","directives","name","rawName","curRow","domProps","target","composing","$set","Mileage","$config","theme","confirmPopup","staticRenderFns","components","data","methods","Page","PageSize","console","instance","row","FieldsNames","component"],"sourceRoot":""}